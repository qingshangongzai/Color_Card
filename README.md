# Color Extractor - 图片颜色提取器

基于 PyQt6 开发的 GUI 程序，类似 Adobe Color 的色卡网站，用于从图片中提取颜色。

## 功能特性

- **图片导入** - 支持 JPG、PNG、BMP、GIF 格式
- **5个可拖动取色点** - 圆形设计，带白色边框，可自由拖动
- **实时颜色提取** - 拖动时实时更新颜色
- **HSB 和 LAB 显示** - 每个色卡显示对应的 HSB 和 LAB 值（双列布局）
- **高分辨率显示** - 使用原始图片实时缩放，保证显示清晰度
- **简洁界面** - 无图片时显示提示，点击图片区域即可导入

## 界面布局

```
┌─────────────────────────────────────┐
│                                     │
│         图片显示区域                 │
│    （5个可拖动圆形取色点）            │
│                                     │
├─────────────────────────────────────┤
│  ┌────┐ ┌────┐ ┌────┐ ┌────┐ ┌────┐│
│  │颜色│ │颜色│ │颜色│ │颜色│ │颜色││
│  │块  │ │块  │ │块  │ │块  │ │块  ││
│  ├────┤ ├────┤ ├────┤ ├────┤ ├────┤│
│  │H:  │ │H:  │ │H:  │ │H:  │ │H:  ││
│  │S:  │ │S:  │ │S:  │ │S:  │ │S:  ││
│  │B:  │ │B:  │ │B:  │ │B:  │ │B:  ││
│  │L:  │ │L:  │ │L:  │ │L:  │ │L:  ││
│  │a:  │ │a:  │ │a:  │ │a:  │ │a:  ││
│  │b:  │ │b:  │ │b:  │ │b:  │ │b:  ││
│  └────┘ └────┘ └────┘ └────┘ └────┘│
└─────────────────────────────────────┘
```

## 使用方法

1. 运行程序
   ```bash
   python main.py
   ```

2. 导入图片
   - 点击图片显示区域的"点击导入图片"提示
   - 或使用菜单栏 文件 → 打开图片 (Ctrl+O)

3. 提取颜色
   - 拖动图片上的5个圆形取色点到任意位置
   - 下方色卡会实时显示对应颜色的 HSB 和 LAB 值

## 文件结构

```
.
├── main.py                 # 程序入口
├── color_utils.py          # 颜色转换工具（RGB ↔ HSB/LAB）
├── README.md               # 项目说明文档
└── widgets/
    ├── __init__.py
    ├── main_window.py      # 主窗口
    ├── image_canvas.py     # 图片显示画布（含取色点管理）
    ├── color_picker.py     # 可拖动取色点组件
    └── color_card.py       # 色卡显示面板
```

## 技术细节

### 颜色空间转换

- **HSB** (Hue, Saturation, Brightness)
  - H: 色相 (0-360°)
  - S: 饱和度 (0-100%)
  - B: 亮度 (0-100%)

- **LAB** (Lightness, a, b)
  - L: 明度
  - a: 绿-红轴
  - b: 蓝-黄轴

### 图片显示优化

- 保留原始高分辨率图片
- 绘制时实时缩放显示
- 取色时映射到原始图片坐标
- 避免多次缩放导致的画质损失

## 依赖

- Python 3.x
- PyQt6

## 快捷键

- `Ctrl + O` - 打开图片
- `Ctrl + Q` - 退出程序

## 版本历史

### 当前版本

- 基础功能实现
- 5个可拖动取色点
- HSB/LAB 双列显示
- 高分辨率图片显示优化
- 简洁的导入界面
